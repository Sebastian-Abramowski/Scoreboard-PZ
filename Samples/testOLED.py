from machine import Pin, SoftI2C
from ssd1306 import SSD1306_I2C
import framebuf

# ESP32 Pin assignment
buffer = bytearray(b"\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x9f\xff\xff\xfe\x1f\xff\xff\xf8\x1f\xff\xff\xe0\x1f\xff\xff\x80\x1f\xff\xff\x78\x1f\xff\xff\xf8\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xfc\x1f\xff\xff\xf8\x1f\xff\xff\xf0\x07\xff\xff\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff")
fb = framebuf.FrameBuffer(buffer, 32, 64, framebuf.MONO_HLSB)

i2c = SoftI2C(scl=Pin(22), sda=Pin(21))
oled_width = 128
oled_height = 64

oled = SSD1306_I2C(oled_width, oled_height, i2c)

oled.fill(0)
oled.framebuf.blit(fb, 32, 0)
# oled.text("hi", 0, 0)
oled.invert(1)

oled.show()
