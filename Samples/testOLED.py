from machine import Pin, SoftI2C
from ssd1306 import SSD1306_I2C
import framebuf

# ESP32 Pin assignment
buffer = bytearray(b"\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xfb\xff\xff\xff\xff\xff\xff\xff\xe7\xff\xff\xff\xff\xf7\xff\xff\x9f\xff\xff\xff\xff\xf7\xff\xfe\x3f\xff\xff\xff\xff\xe7\xff\xf8\x7f\xff\xff\xff\xff\xe7\xff\x0e\xff\xff\xff\xff\xff\xe7\xff\x81\xff\xff\xff\xff\xff\xc7\xfe\x07\xff\xff\xff\xff\xff\xc7\xf8\x0f\xff\xff\xff\xff\xff\xc7\x0f\x1f\xff\xff\xff\xff\xff\xc3\xc0\x3f\xff\xff\xff\xff\xff\xc0\x00\x7f\xff\xff\xff\xff\xff\x80\x10\xff\xff\xff\xff\xff\xff\x80\x30\xff\xff\xff\xff\xff\xff\x08\x07\xff\xff\xff\xff\xff\xff\x0c\x0f\xff\xff\xff\xff\xff\xff\x0c\x1f\xff\xff\xff\xff\xff\xff\x0c\x3f\xff\xff\xff\xff\xff\xff\xe0\xff\xff\xff\xff\xff\xff\xff\xf3\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff")
fb = framebuf.FrameBuffer(buffer, 64, 64, framebuf.MONO_HLSB)

i2c = SoftI2C(scl=Pin(22), sda=Pin(21))
oled_width = 128
oled_height = 64

oled = SSD1306_I2C(oled_width, oled_height, i2c)

oled.fill(0)
oled.framebuf.blit(fb, 32, 0)
# oled.text("hi", 0, 0)
oled.invert(1)

oled.show()
